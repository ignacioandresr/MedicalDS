<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Documentación API REST</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap 5 CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background: #f6f7fb; }
        .api-card {
            border-left: 4px solid #0d6efd; 
            background: white;
            box-shadow: 0 3px 16px rgba(40,42,68,0.07);
        }
        .endpoint-method {
            font-size: 0.95rem;
            font-weight: 600;
            padding: 2px 12px;
            border-radius: 4px;
            margin-right: 8px;
        }
        .GET { background: #e8f4ff; color: #266dd3; }
        .POST { background: #f1fff0; color: #45b26b; }
        .PUT { background: #fff6e0; color: #f6ae2d; }
        .DELETE { background: #ffeaea; color: #f44336; }
        code { background: #f4f4f4; padding: 2px 6px; border-radius: 3px;}
    </style>
</head>
<body>
<div class="container my-5">
        <h1 class="display-5 fw-bold text-primary mb-4">Documentación de API REST</h1>
        <p class="lead mb-5 text-secondary">Endpoints principales del sistema para <strong>Pacientes</strong>, <strong>Diagnósticos Generales</strong> y <strong>Registros Clínicos</strong>.<br>
            <span class="badge bg-dark">API Base: <code>/api</code></span>
            <!-- Pacientes -->
            <div class="api-card p-4 mb-4 rounded">
                <h2 class="h4 mb-3"><i class="bi bi-people"></i> Pacientes</h2>
                <div class="accordion" id="patientsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPatients1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePatients1" aria-expanded="false" aria-controls="collapsePatients1">
                                <span class="endpoint-method GET">GET</span>
                                <code>/api/patients</code>
                                <span class="text-secondary ms-2">Listar pacientes (auth + admin)</span>
                            </button>
                        </h2>
                        <div id="collapsePatients1" class="accordion-collapse collapse" aria-labelledby="headingPatients1" data-bs-parent="#patientsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X GET https://tuapi.com/api/patients \
                                <ul>
                                    <li><code>200 OK</code></li>
                                    <li><code>401 Unauthorized</code></li>
                                    <li><code>403 Forbidden</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPatients2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePatients2" aria-expanded="false" aria-controls="collapsePatients2">
                                <span class="endpoint-method POST">POST</span>
                                <code>/api/patients</code>
                                <span class="text-secondary ms-2">Crear paciente (auth + admin)</span>
                            </button>
                        </h2>
                        <div id="collapsePatients2" class="accordion-collapse collapse" aria-labelledby="headingPatients2" data-bs-parent="#patientsAccordion">
                            <div class="accordion-body">
                                Campos requeridos: rut, name, birth_date(YYYY-MM-DD), gender, adress
        <pre><code>curl -X POST https://tuapi.com/api/patients \
                                <ul>
                                    <li><code>201 Created</code></li>
                                    <li><code>400 Bad Request</code></li>
                                    <li><code>401/403</code> Auth</li>
                                    <li><code>409 Conflict</code> rut duplicado</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPatients3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePatients3" aria-expanded="false" aria-controls="collapsePatients3">
                                <span class="endpoint-method GET">GET</span>
                                <code>/api/patients/{id}</code>
                                <span class="text-secondary ms-2">Mostrar paciente (auth + admin)</span>
                            </button>
                        </h2>
                        <div id="collapsePatients3" class="accordion-collapse collapse" aria-labelledby="headingPatients3" data-bs-parent="#patientsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X GET https://tuapi.com/api/patients/5 \
                                <ul>
                                    <li><code>200 OK</code></li>
                                    <li><code>404 Not Found</code></li>
                                    <li><code>401/403</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPatients4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePatients4" aria-expanded="false" aria-controls="collapsePatients4">
                                <span class="endpoint-method PUT">PUT</span>
                                <code>/api/patients/{id}</code>
                                <span class="text-secondary ms-2">Actualizar paciente</span>
                            </button>
                        </h2>
                        <div id="collapsePatients4" class="accordion-collapse collapse" aria-labelledby="headingPatients4" data-bs-parent="#patientsAccordion">
                            <div class="accordion-body">
                                Método update aún no implementado en controlador.
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingPatients5">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePatients5" aria-expanded="false" aria-controls="collapsePatients5">
                                <span class="endpoint-method DELETE">DELETE</span>
                                <code>/api/patients/{id}</code>
                                <span class="text-secondary ms-2">Eliminar paciente (auth + admin)</span>
                            </button>
                        </h2>
                        <div id="collapsePatients5" class="accordion-collapse collapse" aria-labelledby="headingPatients5" data-bs-parent="#patientsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X DELETE https://tuapi.com/api/patients/5 \
                                <ul>
                                    <li><code>204 No Content</code></li>
                                    <li><code>404 Not Found</code></li>
                                    <li><code>401/403</code></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Diagnósticos Generales -->
            <div class="api-card p-4 mb-4 rounded">
                <h2 class="h4 mb-3"><i class="bi bi-clipboard-pulse"></i> Diagnósticos Generales</h2>
                <div class="accordion" id="generalDiagnosticsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGD1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGD1" aria-expanded="false" aria-controls="collapseGD1">
                                <span class="endpoint-method GET">GET</span>
                                <code>/api/general-diagnostics</code>
                                <span class="text-secondary ms-2">Listar diagnósticos</span>
                            </button>
                        </h2>
                        <div id="collapseGD1" class="accordion-collapse collapse" aria-labelledby="headingGD1" data-bs-parent="#generalDiagnosticsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X GET https://tuapi.com/api/general-diagnostics</code></pre>
                                <ul><li><code>200 OK</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGD2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGD2" aria-expanded="false" aria-controls="collapseGD2">
                                <span class="endpoint-method POST">POST</span>
                                <code>/api/general-diagnostics</code>
                                <span class="text-secondary ms-2">Crear diagnóstico</span>
                            </button>
                        </h2>
                        <div id="collapseGD2" class="accordion-collapse collapse" aria-labelledby="headingGD2" data-bs-parent="#generalDiagnosticsAccordion">
                            <div class="accordion-body">
                                Campos: description (requerido), date (opcional), symptoms (array IDs opcional)
        <pre><code>curl -X POST https://tuapi.com/api/general-diagnostics \
                                <ul><li><code>201 Created</code></li><li><code>400 Bad Request</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGD3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGD3" aria-expanded="false" aria-controls="collapseGD3">
                                <span class="endpoint-method GET">GET</span>
                                <code>/api/general-diagnostics/{id}</code>
                                <span class="text-secondary ms-2">Mostrar diagnóstico</span>
                            </button>
                        </h2>
                        <div id="collapseGD3" class="accordion-collapse collapse" aria-labelledby="headingGD3" data-bs-parent="#generalDiagnosticsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X GET https://tuapi.com/api/general-diagnostics/12</code></pre>
                                <ul><li><code>200 OK</code></li><li><code>404 Not Found</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGD4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGD4" aria-expanded="false" aria-controls="collapseGD4">
                                <span class="endpoint-method PUT">PUT</span>
                                <code>/api/general-diagnostics/{id}</code>
                                <span class="text-secondary ms-2">Actualizar diagnóstico</span>
                            </button>
                        </h2>
                        <div id="collapseGD4" class="accordion-collapse collapse" aria-labelledby="headingGD4" data-bs-parent="#generalDiagnosticsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X PUT https://tuapi.com/api/general-diagnostics/12 \
                                <ul><li><code>200 OK</code></li><li><code>400 Bad Request</code></li><li><code>404 Not Found</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingGD5">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseGD5" aria-expanded="false" aria-controls="collapseGD5">
                                <span class="endpoint-method DELETE">DELETE</span>
                                <code>/api/general-diagnostics/{id}</code>
                                <span class="text-secondary ms-2">Eliminar diagnóstico</span>
                            </button>
                        </h2>
                        <div id="collapseGD5" class="accordion-collapse collapse" aria-labelledby="headingGD5" data-bs-parent="#generalDiagnosticsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X DELETE https://tuapi.com/api/general-diagnostics/12</code></pre>
                                <ul><li><code>204 No Content</code></li><li><code>404 Not Found</code></li></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Registros Clínicos -->
            <div class="api-card p-4 mb-4 rounded">
                <h2 class="h4 mb-3"><i class="bi bi-journal-medical"></i> Registros Clínicos</h2>
                <div class="accordion" id="recordsAccordion">
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRec1">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRec1" aria-expanded="false" aria-controls="collapseRec1">
                                <span class="endpoint-method GET">GET</span>
                                <code>/api/records</code>
                                <span class="text-secondary ms-2">Listar registros</span>
                            </button>
                        </h2>
                        <div id="collapseRec1" class="accordion-collapse collapse" aria-labelledby="headingRec1" data-bs-parent="#recordsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X GET https://tuapi.com/api/records</code></pre>
                                <ul><li><code>200 OK</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRec2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRec2" aria-expanded="false" aria-controls="collapseRec2">
                                <span class="endpoint-method POST">POST</span>
                                <code>/api/records</code>
                                <span class="text-secondary ms-2">Crear registro</span>
                            </button>
                        </h2>
                        <div id="collapseRec2" class="accordion-collapse collapse" aria-labelledby="headingRec2" data-bs-parent="#recordsAccordion">
                            <div class="accordion-body">
                                Requeridos: patient_id, fecha. Opcionales: diagnostic_id, antecedentes_salud, medicamentos, enfermedades[], alergias[], cirugias[], enfermedades_text, alergias_text, cirugias_text
        <pre><code>curl -X POST https://tuapi.com/api/records \
        <pre><code>curl -X POST https://tuapi.com/api/records \
                                <ul><li><code>201 Created</code></li><li><code>400 Bad Request</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRec3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRec3" aria-expanded="false" aria-controls="collapseRec3">
                                <span class="endpoint-method GET">GET</span>
                                <code>/api/records/{id}</code>
                                <span class="text-secondary ms-2">Mostrar registro</span>
                            </button>
                        </h2>
                        <div id="collapseRec3" class="accordion-collapse collapse" aria-labelledby="headingRec3" data-bs-parent="#recordsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X GET https://tuapi.com/api/records/10</code></pre>
                                <ul><li><code>200 OK</code></li><li><code>404 Not Found</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRec4">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRec4" aria-expanded="false" aria-controls="collapseRec4">
                                <span class="endpoint-method PUT">PUT</span>
                                <code>/api/records/{id}</code>
                                <span class="text-secondary ms-2">Actualizar registro</span>
                            </button>
                        </h2>
                        <div id="collapseRec4" class="accordion-collapse collapse" aria-labelledby="headingRec4" data-bs-parent="#recordsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X PUT https://tuapi.com/api/records/10 \
                                <ul><li><code>200 OK</code></li><li><code>400 Bad Request</code></li><li><code>404 Not Found</code></li></ul>
                            </div>
                        </div>
                    </div>
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="headingRec5">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseRec5" aria-expanded="false" aria-controls="collapseRec5">
                                <span class="endpoint-method DELETE">DELETE</span>
                                <code>/api/records/{id}</code>
                                <span class="text-secondary ms-2">Eliminar registro</span>
                            </button>
                        </h2>
                        <div id="collapseRec5" class="accordion-collapse collapse" aria-labelledby="headingRec5" data-bs-parent="#recordsAccordion">
                            <div class="accordion-body">
        <pre><code>curl -X DELETE https://tuapi.com/api/records/10</code></pre>
                                <ul><li><code>204 No Content</code></li><li><code>404 Not Found</code></li></ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
